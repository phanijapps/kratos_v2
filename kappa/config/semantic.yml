retrieve_doc: |
  Use 'semantic_retrieve' to find the right tool for a job. 
  It searches all API documentation for a match to your natural language query.
  Example Query: "What tool do I use to get the P/E ratio?"
  
ingestion_doc: |
  Use 'semantic_ingest' to populate this memory. 
  This is usually done by a one-time setup script.

  Ingestor: "api_doc"
  Usage: This payload ingests a single API endpoint. It links an 'endpoint' to its 'section'.
  Payload Example:
    payload = {
        "section": {
            "name": "fundamentals",
            "description": "Company fundamentals, financial statements..."
        },
        "endpoint": {
            "name": "get_fundamentals",
            "description": "Return combined overview, statements...",
            "signature": "get_fundamentals(symbol: str, ...)",
            "returns": "Dictionary combining overview, statements..."
        }
    }

namespace: semantic
vector_store:
  collection_suffix: semantic
ingestors:
  api_doc:
    vector:
      text_fields:
        - section.name
        - endpoint.name
        - endpoint.description
        - endpoint.signature
        - endpoint.returns
      metadata:
        section: section.name
        endpoint_name: endpoint.name
    graph:
      nodes:
        - id: section
          type: Section
          key: section.name
          attributes:
            name: section.name
            description: section.description
        - id: endpoint
          type: Endpoint
          key: endpoint.name
          attributes:
            name: endpoint.name
            description: endpoint.description
            signature: endpoint.signature
            returns: endpoint.returns
      edges:
        - source: section
          target: endpoint
          label: HAS_ENDPOINT